(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(51),c=a.n(s),l=(a(80),a(5)),o=a(6),u=a(8),i=a(7),m=a(11),d=a(13),p=(a(81),function(e){return r.a.createElement("div",{className:"textbox"},r.a.createElement("h2",{className:"textbox__preheading"},e.preHeading),r.a.createElement("h1",{className:"textbox__heading"},e.heading),r.a.createElement("p",{className:"textbox__text"},e.text))}),h=a(2),f=a.n(h),b=a(3),v=a(4),_=a.n(v),E={setAuthToken:function(e){e&&localStorage.setItem("token",e)},getAuthToken:function(e){return localStorage.getItem("token")},removeAuthToken:function(e){e&&localStorage.removeItem("token")},isAuthenticated:function(){return!!localStorage.getItem("token")}},g=(a(48),a(141)),N=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={errors:[]},e.handleFormSubmit=function(){var t=Object(b.a)(f.a.mark((function t(a){var n,r,s,c,l,o,u,i,m,d,p,h;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=a.target.elements.email.value,r=a.target.elements.firstname.value,s=a.target.elements.lastname.value,c=a.target.elements.password.value,l=a.target.elements.confirm.value,o={firstName:r,lastName:s,email:n,password:c,confirmedPassword:l},!e.isFormValid(o)){t.next=26;break}return e.setState({errors:[]}),u={firstName:r,lastName:s,email:n,password:c},t.prev=10,i={headbers:{"Content-Type":"Application/json"}},m=u,t.next=15,_.a.post("/api/user/signup",m,i);case 15:d=t.sent,E.setAuthToken(d.data.token),window.location.href="/user/login",t.next=26;break;case 20:t.prev=20,t.t0=t.catch(10),console.log(t.t0),p={message:"Quelque chose s'est mal pass\xe9. R\xe9essayer!"},h=[],e.setState({errors:h.concat(p)});case 26:case"end":return t.stop()}}),t,null,[[10,20]])})));return function(e){return t.apply(this,arguments)}}(),e.isFormValid=function(t){var a,n=[];return e.isFormEmpty(t)?(a={message:"Remplissez tous les champs"},e.setState({errors:n.concat(a)}),!1):e.isPasswordValid(t)?!!e.isPasswordMatching(t)||(a={message:"Le mot de passe ne correspond pas"},e.setState({errors:n.concat(a)}),!1):(a={message:"Le mot de passe doit comporter au moins 8 caract\xe8res"},e.setState({errors:n.concat(a)}),!1)},e.isFormEmpty=function(e){var t=e.firstName,a=e.lastName,n=e.email,r=e.password,s=e.confirmedPassword;return!t.length||!a.length||!n.length||!r.length||!s.length},e.isPasswordValid=function(e){var t=e.password,a=e.confirmedPassword;return!(t.length<8||a.length<8)},e.isPasswordMatching=function(e){return e.password===e.confirmedPassword},e.displayErrors=function(e){return e.map((function(e,t){return r.a.createElement("p",{key:t},e.message)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"form",onSubmit:this.handleFormSubmit},r.a.createElement("h3",{className:"form__heading"},"S'INSCRIRE"),r.a.createElement("input",{className:"form__input",placeholder:"Pr\xe9nom",type:"text",name:"firstname"}),r.a.createElement("input",{className:"form__input",placeholder:"Nom",type:"text",name:"lastname"}),r.a.createElement("input",{className:"form__input",placeholder:"Adresse e-mail",type:"email",name:"email"}),r.a.createElement("input",{className:"form__input",placeholder:"Mot de passe",type:"password",name:"password"}),r.a.createElement("input",{className:"form__input",placeholder:"Confirmez le mot de passe",type:"password",name:"confirm"}),r.a.createElement("input",{className:"form__btn",type:"submit",name:"submit",value:"S'inscrire"}),this.state.errors.length>0&&r.a.createElement(g.a,{className:"errorclass"},this.displayErrors(this.state.errors)),r.a.createElement(g.a,{style:{marginTop:30}},"D\xe9j\xe0 un utilisateur ? ",r.a.createElement(m.b,{to:"/user/login"},"Connexion")))}}]),a}(r.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={errors:[]},e.handleFormSubmit=function(){var t=Object(b.a)(f.a.mark((function t(a){var n,r,s,c,l,o,u,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=a.target.elements.email.value,r=a.target.elements.password.value,s={email:n,password:r},!e.isFormValid(s)){t.next=22;break}return e.setState({errors:[]}),t.prev=6,c={headers:{"Content-Type":"Application/json"}},l=JSON.stringify(s),t.next=11,_.a.post("/api/user/login",l,c);case 11:o=t.sent,E.setAuthToken(o.data.token),o.data.token&&(window.location.href="/dashboard"),t.next=22;break;case 16:t.prev=16,t.t0=t.catch(6),console.log(t.t0),u={message:"Something went wrong. Try again!"},i=[],e.setState({errors:i.concat(u)});case 22:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e){return t.apply(this,arguments)}}(),e.isFormValid=function(t){var a;return!e.isFormEmpty(t)||(a={message:"Remplissez tous les champs"},e.setState({errors:[].concat(a)}),!1)},e.isFormEmpty=function(e){var t=e.email;return!e.password.length||!t.length},e.displayErrors=function(e){return e.map((function(e,t){return r.a.createElement("p",{key:t},e.message)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"form",onSubmit:this.handleFormSubmit},r.a.createElement("h3",{className:"form__heading"},"Connexion"),r.a.createElement("input",{className:"form__input",placeholder:"Email Address",type:"email",name:"email"}),r.a.createElement("input",{className:"form__input",placeholder:"Mot de passe",type:"password",name:"password"}),r.a.createElement("input",{className:"form__btn",type:"submit",name:"submit",value:"Connexion"}),this.state.errors.length>0&&r.a.createElement(g.a,{className:"errorclass"},this.displayErrors(this.state.errors)),r.a.createElement(g.a,{style:{marginTop:30}},"Vous n'avez pas de compte\xa0? ",r.a.createElement(m.b,{to:"/user/signup"},"Inscription")))}}]),a}(r.a.Component),y=(a(107),a(108),a(55)),k=a.n(y),x=a(56),w=a.n(x);var O=function(){var e=Object(d.f)(),t=e.path,a=e.url;return r.a.createElement("div",{className:"fp-container"},r.a.createElement("div",{className:"row fw-row col-2-2-1"},r.a.createElement("div",{className:"col-1"},r.a.createElement(p,{preHeading:"Bienvenue \xe0",heading:"Emploi DU Temps",text:"Cette application peut \xeatre utilis\xe9e pour g\xe9n\xe9rer un horaire programm\xe9 automatiquement.\r Maintenant, d\xe9barrassez-vous de tout le travail manuel de la m\xe9thode de frappe et d'essai pour g\xe9n\xe9rer un tableau de temps"}),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"".concat(t,"/signup"),render:function(){return r.a.createElement("img",{src:k.a,className:"form-image",alt:"TimeTable"})}}),r.a.createElement(d.a,{path:"".concat(t,"/login"),render:function(){return r.a.createElement("img",{src:w.a,alt:"TimeTable",className:"form-image"})}})),r.a.createElement("div",{className:"buttonbox"},r.a.createElement(m.c,{to:"".concat(a,"/signup"),className:"buttonbox__button",activeClassName:"buttonbox__button--active"},"Inscription"),r.a.createElement(m.c,{to:"".concat(a,"/login"),className:"buttonbox__button",activeClassName:"buttonbox__button--active"},"Connexion"))),r.a.createElement("div",{className:"col-2"},r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"".concat(t,"/signup"),component:N}),r.a.createElement(d.a,{path:"".concat(t,"/login"),component:j}),r.a.createElement(d.a,{path:"".concat(t,"/"),exact:!0})))))},A=a(9),S=(a(30),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleAddClass=e.handleAddClass.bind(Object(A.a)(e)),e}return Object(o.a)(a,[{key:"handleAddClass",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,s,c,l,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.persist(),a=t.target.elements.className.value,n=t.target.elements.session.value,r=t.target.elements.section.value,s={className:a,session:n,section:r},e.prev=6,c=E.getAuthToken(),l={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(c)}},o=JSON.stringify(s),e.next=12,_.a.post("/api/class",o,l);case 12:u=e.sent,console.log(u.data),t.target.elements.className.value="",t.target.elements.session.value="",t.target.elements.section.value="",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"addform"},r.a.createElement("form",{onSubmit:this.handleAddClass},r.a.createElement("h1",{className:"addform__heading"},"Ajouter une classe"),r.a.createElement("input",{className:"addform__input addform__input--full",type:"text",placeholder:"Nom de la classe",name:"className"}),r.a.createElement("input",{className:"addform__input  addform__input--half addform__input--left",type:"text",placeholder:"Session allou\xe9e",name:"session"}),r.a.createElement("input",{className:"addform__input addform__input--half addform__input--right",type:"text",placeholder:"Section allou\xe9e",name:"section"}),r.a.createElement("input",{className:"addform__btn",type:"submit",name:"submit",value:"AJOUTER CLASS"})))}}]),a}(r.a.Component)),C=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleAddSubject=e.handleAddSubject.bind(Object(A.a)(e)),e}return Object(o.a)(a,[{key:"handleAddSubject",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,s,c,l,o,u,i,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.persist(),a=t.target.elements.subjectCode.value,n=t.target.elements.subjectName.value,r=t.target.elements.creditHours.value,s=t.target.elements.contactHours.value,c=t.target.elements.labs.value,l={subjectCode:a,subjectName:n,creditHours:r,contactHours:s,labs:c},e.prev=8,o=E.getAuthToken(),u={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(o)}},i=JSON.stringify(l),e.next=14,_.a.post("/api/subject",i,u);case 14:m=e.sent,console.log(m),t.target.elements.subjectCode.value="",t.target.elements.subjectName.value="",t.target.elements.creditHours.value="",t.target.elements.contactHours.value="",t.target.elements.labs.value="",e.next=26;break;case 23:e.prev=23,e.t0=e.catch(8),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{class:"addform"},r.a.createElement("form",{onSubmit:this.handleAddSubject},r.a.createElement("h1",{className:"addform__heading"}," Ajouter un mati\xe8re "),r.a.createElement("input",{className:"addform__input addform__input--full",type:"text",placeholder:"ID de la mati\xe8re ",name:"subjectCode"}),r.a.createElement("input",{className:"addform__input  addform__input--full",type:"text",placeholder:"nom de la mati\xe8re",name:"subjectName"}),r.a.createElement("input",{className:"addform__input addform__input--half addform__input--left",type:"number",placeholder:"Heures de cr\xe9dit",name:"creditHours"}),r.a.createElement("input",{className:"addform__input addform__input--half addform__input--right",type:"number",placeholder:"Heures de contact",name:"contactHours"}),r.a.createElement("input",{className:"addform__input  addform__input--full",type:"number",placeholder:"laboratoires",name:"labs"}),r.a.createElement("input",{className:"addform__btn",type:"submit",name:"submit",value:"ADD SUBJECT"})))}}]),a}(r.a.Component),T=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleSelect=e.handleSelect.bind(Object(A.a)(e)),e.state={subjects:[{subjectCode:"CS101",subjectName:"Programming Fundamentals"},{subjectCode:"CS102",subjectName:"Programming Fundamentals"},{subjectCode:"CS103",subjectName:"Programming Fundamentals"}],selectedSubjects:[]},e}return Object(o.a)(a,[{key:"handleSelect",value:function(e){var t=document.querySelector(".addform__select").value,a=this.state.subjects.filter((function(e){return e.subjectCode===t}));this.setState((function(e){return{selectedSubjects:e.selectedSubjects.concat(a[0])}}))}},{key:"handleAddTeacher",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,s,c,l,o,u,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.persist(),a=t.target.elements.firstName.value,n=t.target.elements.lastName.value,r=t.target.elements.regNumber.value,s=t.target.elements.workingHours.value,c={firstName:a,lastName:n,regNumber:r,workingHours:s},e.prev=7,l=E.getAuthToken(),o={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(l)}},u=JSON.stringify(c),e.next=13,_.a.post("/api/teacher",u,o);case 13:i=e.sent,console.log(i),t.target.elements.firstName.value="",t.target.elements.lastName.value="",t.target.elements.regNumber.value="",t.target.elements.workingHours.value="",e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[7,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"addform addteacher"},r.a.createElement("form",{onSubmit:this.handleAddTeacher},r.a.createElement("h1",{className:"addform__heading"},"Ajouter un enseignant"),r.a.createElement("input",{className:"addform__input addform__input--full",type:"text",placeholder:"Pr\xe9nom",name:"firstName"}),r.a.createElement("input",{className:"addform__input  addform__input--full",type:"text",placeholder:"Nom",name:"lastName"}),r.a.createElement("input",{className:"addform__input addform__input--half addform__input--left",type:"text",placeholder:"Num\xe9ro d'enregistrement",name:"regNumber"}),r.a.createElement("input",{className:"addform__input addform__input--half addform__input--right",type:"text",placeholder:"Horaires de travail",name:"workingHours"}),r.a.createElement("input",{className:"addform__btn",type:"submit",name:"submit",value:"AJOUTER UN ENSEIGNANT"})))}}]),a}(r.a.Component),D=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleAddSlots=e.handleAddSlots.bind(Object(A.a)(e)),e}return Object(o.a)(a,[{key:"handleAddSlots",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,s,c,l,o,u,i,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.persist(),a=t.target.elements.teacherName.value,n=t.target.elements.session.value,r=t.target.elements.section.value,s=t.target.elements.subjectName.value,c=t.target.elements.contactHours.value,l={teacherName:a,subjectName:s,session:n,section:r,contactHours:c},e.prev=8,o=E.getAuthToken(),u={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(o)}},i=JSON.stringify(l),e.next=14,_.a.post("/api/slot ",i,u);case 14:m=e.sent,console.log(m.data),t.target.elements.teacherName.value="",t.target.elements.session.value="",t.target.elements.section.value="",t.target.elements.subjectName.value="",t.target.elements.contactHours.value="",e.next=26;break;case 23:e.prev=23,e.t0=e.catch(8),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{class:"addform"},r.a.createElement("form",{onSubmit:this.handleAddSlots},r.a.createElement("h1",{className:"addform__heading"},"Ajouter des heures "),r.a.createElement("input",{className:"addform__input addform__input--full",type:"text",placeholder:"Nom de l'enseignant",name:"teacherName"}),r.a.createElement("input",{className:"addform__input addform__input--full",type:"text",placeholder:"Nom de la mati\xe8re",name:"subjectName"}),r.a.createElement("input",{className:"addform__input addform__input--full",type:"number",placeholder:"Session",name:"session"}),r.a.createElement("input",{className:"addform__input addform__input--half addform__input--left",type:"text",placeholder:"Section",name:"section"}),r.a.createElement("input",{className:"addform__input addform__input--half addform__input--right",type:"number",placeholder:"Conf\xe9rences",name:"contactHours"}),r.a.createElement("input",{className:"addform__btn",type:"submit",name:"submit",value:"AJOUTER DES HEURES"})))}}]),a}(r.a.Component);a(109);var H=function(e){return r.a.createElement("div",{className:"class"},r.a.createElement("p",{className:"class__details"},e.classCode," | ",e.session," - ",e.section),r.a.createElement("button",{onClick:function(){e.remove(e.itemId)},className:"class__btn class__btn--remove"},"Supprimer"))},z=(a(110),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleRemoveClass=e.handleRemoveClass.bind(Object(A.a)(e)),e.componentDidMount=e.componentDidMount.bind(Object(A.a)(e)),e.fetchData=e.fetchData.bind(Object(A.a)(e)),e.state={classes:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E.getAuthToken(),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(t)}},e.next=5,_.a.get("/api/class",a);case 5:n=e.sent,this.setState((function(e,t){return{classes:e.classes.concat(n.data)}}),(function(){console.log(r.state)})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleRemoveClass",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.getAuthToken(),n={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}},e.next=5,_.a.delete("/api/class/".concat(t),n);case 5:r=e.sent,console.log(r.status),this.setState((function(e){return{classes:e.classes.filter((function(e){return e._id!==t}))}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"viewbox"},r.a.createElement("h1",{className:"viewbox__heading"},"Liste de classe"),this.state.classes.map((function(t){return r.a.createElement(H,{remove:e.handleRemoveClass,classCode:t.className,session:t.session,section:t.section,key:t.classCode,itemId:t._id})})))}}]),a}(r.a.Component));a(111);var M=function(e){return r.a.createElement("div",{className:"subject"},r.a.createElement("p",{className:"subject__details"},e.subjectCode,"-",e.subjectName," | Credit Hours:"," ",e.creditHours," | Contact Hours: ",e.contactHours),r.a.createElement("button",{onClick:function(){e.remove(e.itemId)},className:"subject__btn subject__btn--remove"},"Supprimer"))},R=(a(112),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleRemoveSubject=e.handleRemoveSubject.bind(Object(A.a)(e)),e.componentDidMount=e.componentDidMount.bind(Object(A.a)(e)),e.fetchData=e.fetchData.bind(Object(A.a)(e)),e.state={subjects:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E.getAuthToken(),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(t)}},e.next=5,_.a.get("/api/subjects",a);case 5:n=e.sent,this.setState((function(e,t){return{subjects:e.subjects.concat(n.data)}}),(function(){console.log(r.state)})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleRemoveSubject",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.getAuthToken(),n={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}},e.next=5,_.a.delete("/api/subject/".concat(t),n);case 5:r=e.sent,console.log(r.status),this.setState((function(e){return{subjects:e.subjects.filter((function(e){return e._id!==t}))}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"viewbox"},r.a.createElement("h1",{className:"viewbox__heading"},"All Subjects"),this.state.subjects.map((function(t){return r.a.createElement(M,{remove:e.handleRemoveSubject,subjectCode:t.subjectCode,subjectName:t.subjectName,creditHours:t.creditHours,contactHours:t.contactHours,key:t.subjectCode,itemId:t._id})})))}}]),a}(r.a.Component));a(113);var I=function(e){return r.a.createElement("div",{className:"teacher"},r.a.createElement("p",{className:"teacher__details"},e.regNumber," | ",e.firstName," ",e.lastName," | Working Hours:"," "," ",e.workingHours),r.a.createElement("button",{onClick:function(){e.remove(e.itemId)},className:"teacher__btn teacher__btn--remove"},"Supprimer"))},B=(a(114),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleRemoveSubject=e.handleRemoveTeacher.bind(Object(A.a)(e)),e.state={teachers:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E.getAuthToken(),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(t)}},e.next=5,_.a.get("/api/teacher",a);case 5:n=e.sent,this.setState((function(e,t){return{teachers:e.teachers.concat(n.data)}}),(function(){console.log(r.state)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleRemoveTeacher",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.getAuthToken(),n={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}},e.next=5,_.a.delete("/api/teacher/".concat(t),n);case 5:r=e.sent,console.log(r.status),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:this.setState((function(e){return{teachers:e.teachers.filter((function(e){return e._id!==t}))}}));case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"viewbox"},r.a.createElement("h1",{className:"viewbox__heading"},"All Teachers"),this.state.teachers.map((function(t){return r.a.createElement(I,{remove:e.handleRemoveSubject,regNumber:t.regNumber,firstName:t.firstName,lastName:t.lastName,workingHours:t.workingHours,subjectName:t.subjectName,key:t.regNumber,itemId:t._id})})))}}]),a}(r.a.Component)),F=(a(115),function(e){return r.a.createElement("div",{className:"slot"},r.a.createElement("p",{className:"slot__details"},e.teacherName," | ",e.subjectName," |"," ",e.session," - ",e.section," | Lectures: ",e.contactHours),r.a.createElement("button",{onClick:function(){e.remove(e.itemId)},className:"slot__btn slot__btn--remove"},"Supprimer"))}),q=(a(116),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleRemoveSlot=e.handleRemoveSlot.bind(Object(A.a)(e)),e.state={slots:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E.getAuthToken(),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(t)}},e.next=5,_.a.get("/api/slots",a);case 5:n=e.sent,console.log(n),this.setState((function(e,t){return{slots:e.slots.concat(n.data)}}),(function(){})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleRemoveSlot",value:function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.getAuthToken(),n={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}},e.next=5,_.a.delete("/api/slots/".concat(t),n);case 5:r=e.sent,console.log(r.status),this.setState((function(e){return{slots:e.slots.filter((function(e){return e._id!==t}))}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"viewbox"},r.a.createElement("h1",{className:"viewbox__heading"},"liste des heures"),this.state.slots.map((function(t){return r.a.createElement(F,{remove:e.handleRemoveSlot,teacherName:t.teacherName,subjectName:t.subjectName,session:t.session,section:t.section,contactHours:t.contactHours,itemId:t._id})})))}}]),a}(r.a.Component)),P=a(138),J=a(139),U=a(140),V=a(142),L=(a(117),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).fetchData=e.fetchData.bind(Object(A.a)(e)),e.state={timetables:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E.getAuthToken(),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(t)}},e.next=5,_.a.get("/api/fetchdata",a);case 5:n=e.sent,r=[],s="",console.log(n.data),n.data.forEach((function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e[t].length;a++)0!==e[t][a]&&(s=e[t][a].sections[0]);r.push({section:s,timetable:[{day:"Monday",lectures:e[0]},{day:"Tuesday",lectures:e[1]},{day:"Wednesday",lectures:e[2]},{day:"Thursday",lectures:e[3]},{day:"Friday",lectures:e[4]}]})})),console.log(r),this.setState((function(e){return{timetables:e.timetables.concat(r)}}),(function(){})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"timetable-cont"},this.state.timetables.map((function(e){return r.a.createElement("div",{className:"timetable"},r.a.createElement("h2",{className:"timetable__heading"},e.section,e.session),r.a.createElement(P.a,null,r.a.createElement(J.a,null,r.a.createElement(U.a,null,r.a.createElement(V.a,null,r.a.createElement("b",null,"Days")),r.a.createElement(V.a,null,r.a.createElement("b",null,"8am-9am")),r.a.createElement(V.a,null,r.a.createElement("b",null,"9am-10am")),r.a.createElement(V.a,null,r.a.createElement("b",null,"10am-11am")),r.a.createElement(V.a,null,r.a.createElement("b",null,"11am-12pm")),r.a.createElement(V.a,null,r.a.createElement("b",null,"1pm-2pm")),r.a.createElement(V.a,null,r.a.createElement("b",null,"2pm-3pm")),r.a.createElement(V.a,null,r.a.createElement("b",null,"3pm-4pm"))),e.timetable.map((function(e){return r.a.createElement(U.a,null,r.a.createElement(V.a,null,e.day),e.lectures.map((function(e){return r.a.createElement(V.a,null,r.a.createElement("p",null,e.subject),r.a.createElement("p",null,e.teacher))})))})))))})),r.a.createElement(P.a,null,r.a.createElement(J.a,null)))}}]),a}(r.a.Component)),G=(a(118),a(119),function(e){return r.a.createElement("div",{className:"step-container ".concat(e.extraClass)},r.a.createElement("div",{className:"step"},r.a.createElement("p",{className:"step__number"},r.a.createElement("span",null,e.number)),r.a.createElement("div",{className:"step__instruction"},r.a.createElement("h3",{className:"step__instruction__heading"},e.heading),r.a.createElement("p",{className:"step__instruction__para"},e.instruction))))}),W=function(e){return r.a.createElement("div",{className:"operateManual",style:{marginTop:30}},r.a.createElement(G,{number:"1",heading:"Ajouter des cours",instruction:"Ajoutez toutes les salles de classe disponibles dans votre d\xe9partement et attribuez une classe \xe0 chaque section de chaque session."}),r.a.createElement(G,{number:"2",heading:"Ajouter des enseignants",instruction:"Ajoutez les enseignants pour les mati\xe8res. Vous pouvez avoir plusieurs professeurs pour chaque mati\xe8re. Mais gardez \xe0 l'esprit que vous devrez ajouter des enseignants pour les laboratoires s\xe9par\xe9ment."}),r.a.createElement(G,{number:"3",heading:"Ajouter des sujets",instruction:"Ajoutez tous les sujets que vous proposez. Il n'est pas n\xe9cessaire d'ajouter un sujet distinct pour Lab"}),r.a.createElement(G,{number:"4",heading:"Ajouter des emplacements",instruction:"Ici, il vous sera demand\xe9 de fournir un cr\xe9neau pour chaque session. D\xe9signe l'affectation d'un enseignant \xe0 une mati\xe8re qui enseignera une section sp\xe9cifique d'une session."}),r.a.createElement(G,{number:"5",heading:"G\xe9n\xe9rer",instruction:"Et enfin, cliquez sur g\xe9n\xe9rer et bang. Vous avez cr\xe9\xe9 votre emploi du temps avec succ\xe8s",extraClass:"step--last"}))},K=(a(120),a(60)),Q=a.n(K);var $=function(e){var t=Object(d.f)().url,a=function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E.getAuthToken(),a={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(t)}},n=JSON.stringify({}),e.next=6,_.a.post("/api/user/logout",n,a);case 6:r=e.sent,console.log(r),200===r.status&&(E.removeAuthToken(t),window.location.href="/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(m.a,null,r.a.createElement("div",{className:"dashboard row-2-1-5"},r.a.createElement("div",{className:"sidebar"},r.a.createElement("img",{className:"logo",src:Q.a,alt:"Logo"}),r.a.createElement("ul",{className:"menu"},r.a.createElement("li",{className:"menu__li menu__li--class"},r.a.createElement(m.c,{className:"menu__link menu__link--top",to:"".concat(t,"/classes/add")},"Des classes"),r.a.createElement("ul",{className:"submenu submenu--class"},r.a.createElement("li",{className:"submenu__item"},r.a.createElement(m.c,{className:"submenu__link",to:"".concat(t,"/classes/add")},"Ajouter une classe")),r.a.createElement("li",{className:"submenu__item"},r.a.createElement(m.c,{className:"submenu__link",to:"".concat(t,"/classes/view")},"liste des classes")))),r.a.createElement("li",{className:"menu__li menu__li--subject"},r.a.createElement(m.c,{className:"menu__link",to:"".concat(t,"/subjects/add")},"Des Mati\xe8res"),r.a.createElement("ul",{className:"submenu submenu--subject"},r.a.createElement("li",{className:"submenu__item"},r.a.createElement(m.c,{className:"submenu__link",to:"".concat(t,"/subjects/add")},"Ajouter un mati\xe8re")),r.a.createElement("li",{className:"submenu__item"},r.a.createElement(m.c,{className:"submenu__link",to:"".concat(t,"/subjects/view")},"liste des Mati\xe8res")))),r.a.createElement("li",{className:"menu__li menu__li--teacher"},r.a.createElement(m.c,{className:"menu__link",to:"".concat(t,"/teachers/add")},"les enseignants"),r.a.createElement("ul",{className:"submenu submenu--teacher"},r.a.createElement("li",{className:"submenu__item"},r.a.createElement(m.c,{className:"submenu__link",to:"".concat(t,"/teachers/add")},"Ajouter un enseignant")),r.a.createElement("li",{className:"submenu__item"},r.a.createElement(m.c,{className:"submenu__link",to:"".concat(t,"/teachers/view")},"liste les enseignants")))),r.a.createElement("li",{className:"menu__li menu__li--slot"},r.a.createElement(m.c,{className:"menu__link",to:"".concat(t,"/slots/add")},"Heure"),r.a.createElement("ul",{className:"submenu submenu--slot"},r.a.createElement("li",{className:"submenu__item"},r.a.createElement(m.c,{className:"submenu__link",to:"".concat(t,"/slots/add")},"Ajouter un heure")),r.a.createElement("li",{className:"submenu__item"},r.a.createElement(m.c,{className:"submenu__link",to:"".concat(t,"/slots/view")},"Liste des heures")))),r.a.createElement("li",{className:"menu__li"},r.a.createElement(m.c,{to:"".concat(t,"/timetable"),className:"menu__btn"},"G\xe9n\xe9rer")))),r.a.createElement("div",{className:"right-container"},r.a.createElement("div",{className:"secondary-menubar"},r.a.createElement("ul",{className:"secondary-menu"},r.a.createElement("li",null,r.a.createElement("button",{onClick:a,className:"secondary-menu__btn"},"D\xe9connexion")))),r.a.createElement("div",{className:"component-container"},r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"".concat(t,"/classes/add")},r.a.createElement(S,null)),r.a.createElement(d.a,{path:"".concat(t,"/subjects/add")},r.a.createElement(C,null)),r.a.createElement(d.a,{path:"".concat(t,"/teachers/add")},r.a.createElement(T,null)),r.a.createElement(d.a,{path:"".concat(t,"/slots/add")},r.a.createElement(D,null)),r.a.createElement(d.a,{path:"".concat(t,"/classes/view")},r.a.createElement(z,null)),r.a.createElement(d.a,{path:"".concat(t,"/subjects/view")},r.a.createElement(R,null)),r.a.createElement(d.a,{path:"".concat(t,"/teachers/view")},r.a.createElement(B,null)),r.a.createElement(d.a,{path:"".concat(t,"/slots/view")},r.a.createElement(q,null)),r.a.createElement(d.a,{path:"".concat(t,"/timetable")},r.a.createElement(L,null)),r.a.createElement(d.a,{path:"".concat(t,"/")},r.a.createElement(W,null)))))))},X=(a(121),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).componentDidMount=e.componentDidMount.bind(Object(A.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){E.getAuthToken()&&(window.location.href="/dashboard")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"header"},r.a.createElement("div",{className:"home-nav"},r.a.createElement("div",{className:"home-row "},r.a.createElement("h2",{className:"home-logo"},"Emploi DU Temps"),r.a.createElement("ul",{className:"home-menu"},r.a.createElement("li",{className:"home-menu__li"},r.a.createElement("a",{className:"home-menu__link home-menu__link--simple",href:"/user/login"},"Se connecter")),r.a.createElement("li",{className:"home-menu__li"},r.a.createElement("a",{className:"home-menu__link home-menu__link--btn",href:"/user/signup"},"S'inscrire"))))),r.a.createElement("div",{className:"home-row fw-row col-2-1-2"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"textbox--home"},r.a.createElement("h2",{className:"textbox__preHeading--blue"},"Bienvenue \xe0"),r.a.createElement("h1",{className:"textbox__heading--dark"},"Emploi DU Temps"),r.a.createElement("p",null,"Cette application peut \xeatre utilis\xe9e pour g\xe9n\xe9rer un horaire programm\xe9 automatiquement. Maintenant, d\xe9barrassez-vous de tout le travail manuel de la m\xe9thode de frappe et d'essai pour g\xe9n\xe9rer un tableau de temps"),r.a.createElement("a",{href:"./about",className:"about-btn"},"\xc0 propos"))),r.a.createElement("div",{className:"col"}))),r.a.createElement("section",{className:"manual"},r.a.createElement("div",{className:"home-row fw-row col-2-1-2"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"textbox--guide"},r.a.createElement("h2",{className:"textbox__preHeading--blue"},"Guide de l'utilisateur"),r.a.createElement("h1",{className:"textbox__heading--dark"},"Suivez les \xe9tapes d\xe9crites"))),r.a.createElement("div",{className:"col"},r.a.createElement(W,null)))))}}]),a}(r.a.Component)),Y=(a(122),function(){return r.a.createElement("section",{className:"footer"},r.a.createElement("p",{className:"credits"},"Un projet construit avec \u2764 par MEKKI nada"))}),Z=a(61),ee=["children"];var te=function(e){var t=e.children,a=Object(Z.a)(e,ee),n=function(){window.location.href="/login"},s=function(){window.location.href="/signup"};return r.a.createElement(d.a,Object.assign({},a,{render:function(){return E.isAuthenticated()?t:r.a.createElement("div",null,r.a.createElement("p",{className:"text"},"Utilisateur non authentifi\xe9. Veuillez vous inscrire ou vous connecter pour acc\xe9der \xe0 cette page"),r.a.createElement("button",{onClick:n},"Connexion"),r.a.createElement("button",{onClick:s},"Inscription"))}}))},ae=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/user"},r.a.createElement(O,null)),r.a.createElement(te,{path:"/dashboard"},r.a.createElement($,null)),r.a.createElement(d.a,{path:"/"},r.a.createElement(X,null))),r.a.createElement(Y,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,a){},48:function(e,t,a){},55:function(e,t,a){e.exports=a.p+"static/media/clock-illustration.3abefe5b.png"},56:function(e,t,a){e.exports=a.p+"static/media/graduate-illustration.35f3706a.png"},60:function(e,t,a){e.exports=a.p+"static/media/logo.736fbe16.svg"},75:function(e,t,a){e.exports=a(123)},80:function(e,t,a){},81:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.bae41ed4.chunk.js.map